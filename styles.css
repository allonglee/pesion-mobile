/* 全局样式重置，确保所有元素使用一致的盒模型 */
* {
    margin: 0; /* 移除所有元素默认外边距 */
    padding: 0; /* 移除所有元素默认内边距 */
    box-sizing: border-box; /* 设置盒模型为border-box，宽度包含边框和内边距 */
}

/* 页面主体样式 */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; /* 系统原生字体栈，确保跨平台一致性 */
    background: linear-gradient(135deg, #f5f7fa 0%, #e4e7eb 100%); /* 135度线性渐变背景色 */
    min-height: 100vh; /* 设置最小高度为视口高度的100%，确保内容不足时背景也能铺满 */
    padding: 20px; /* 页面内边距 */
    color: #1d1d1f; /* 文本颜色，深灰色 */
}

/* 主容器样式 */
.container {
    max-width: 1400px; /* 设置最大宽度，在大屏幕上不会过宽 */
    margin: 0 auto; /* 水平居中 */
    background: #ffffff; /* 白色背景 */
    border-radius: 18px; /* 圆角 */
    box-shadow: 0 4px 20px rgba(0,0,0,0.08); /* 阴影效果，增加层次感 */
    overflow: hidden; /* 隐藏溢出内容，确保圆角生效 */
}

/* 页面头部样式 */
.header {
    background: linear-gradient(135deg, #007aff 0%, #5856d6 100%); /* 紫色到蓝色的渐变背景 */
    color: white; /* 白色文字 */
    padding: 24px; /* 内边距 */
    text-align: center; /* 文本居中 */
    font-size: 28px; /* 字体大小 */
    font-weight: 600; /* 字体粗细，Semi-Bold */
    letter-spacing: -0.5px; /* 字母间距微调 */
}

/* 控制面板样式 */
.control-panel {
    padding: 24px; /* 内边距 */
    background: #f8f9fa; /* 浅灰色背景 */
    border-bottom: 1px solid #e5e5e7; /* 底部边框，分隔线 */
    display: grid; /* 使用网格布局 */
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* 自适应列宽，每列最小280px */
    gap: 20px; /* 网格项间距 */
}

/* 单个控件组样式 */
.control-group {
    display: flex; /* 使用弹性布局 */
    flex-direction: column; /* 垂直排列子元素 */
}

/* 控件标签样式 */
.control-label {
    font-size: 14px; /* 字体大小 */
    color: #3c3c43; /* 标签颜色，灰色 */
    margin-bottom: 8px; /* 下边距 */
    font-weight: 500; /* 字体粗细，Medium */
}

/* 下拉选择框样式 */
.control-select, .control-multiselect, .control-input {
    width: 100%; /* 宽度100% */
    padding: 12px 16px; /* 内边距 */
    border: 1px solid #c6c6c8; /* 边框颜色 */
    border-radius: 10px; /* 圆角 */
    font-size: 15px; /* 字体大小 */
    background: #ffffff; /* 白色背景 */
    transition: all 0.3s ease; /* 过渡动画效果 */
    appearance: none; /* 移除浏览器默认样式 */
}

/* 下拉框和输入框获得焦点时的样式 */
.control-select:focus, .control-multiselect:focus, .control-input:focus {
    outline: none; /* 移除默认焦点轮廓 */
    border-color: #007aff; /* 边框颜色变为蓝色 */
    box-shadow: 0 0 0 3px rgba(0,122,255,0.1); /* 蓝色发光阴影 */
}

/* 多选下拉框样式，设置固定高度 */
.control-multiselect {
    height: 100px; /* 固定高度，显示多个选项 */
}

/* 输入框样式，添加下边距 */
.control-input {
    margin-bottom: 8px; /* 下边距 */
}

/* 复选框控件组样式 */
.control-checkbox {
    display: flex; /* 弹性布局 */
    align-items: center; /* 垂直居中 */
    gap: 8px; /* 复选框和文本间距 */
    padding: 8px 0; /* 上下内边距 */
}

/* 小按钮组样式 */
.btn-group {
    display: flex; /* 弹性布局 */
    gap: 8px; /* 按钮间距 */
    margin-top: 8px; /* 上边距 */
}

/* 小按钮样式 */
.btn-small {
    padding: 6px 12px; /* 内边距 */
    font-size: 13px; /* 字体大小 */
    border: none; /* 无边框 */
    border-radius: 8px; /* 圆角 */
    background: #007aff; /* 蓝色背景 */
    color: white; /* 白色文字 */
    cursor: pointer; /* 鼠标悬停时显示手型 */
    transition: all 0.2s; /* 过渡动画 */
    font-weight: 500; /* 字体粗细 */
}

/* 小按钮悬停效果 */
.btn-small:hover {
    background: #0051d5; /* 深蓝色背景 */
    transform: translateY(-1px); /* 向上移动1px，产生悬浮感 */
}

/* 主图表容器样式 */
.chart-container {
    padding: 28px; /* 内边距 */
    height: 450px; /* 固定高度 */
    position: relative; /* 相对定位 */
    background: #fafafa; /* 浅灰色背景 */
    border-radius: 12px; /* 圆角 */
    margin: 20px; /* 外边距 */
}

/* 散点图容器样式，默认隐藏 */
.scatter-chart-container {
    padding: 28px; /* 内边距 */
    height: 450px; /* 固定高度 */
    position: relative; /* 相对定位 */
    background: #fafafa; /* 浅灰色背景 */
    border-radius: 12px; /* 圆角 */
    margin: 20px; /* 外边距 */
    display: none; /* 默认不显示 */
}

/* 散点图容器显示时的样式 */
.scatter-chart-container.show {
    display: block; /* 显示 */
}

/* 统计表格容器样式 */
.stats-table-container {
    padding: 0 24px; /* 左右内边距 */
    margin-bottom: 24px; /* 下边距 */
    overflow-x: auto; /* 水平溢出时显示滚动条 */
}

/* 统计表格样式 */
.stats-table {
    width: 100%; /* 宽度100% */
    font-size: 14px; /* 字体大小 */
    border-collapse: separate; /* 边框分离模式 */
    border-spacing: 0; /* 边框间距为0 */
    background: #ffffff; /* 白色背景 */
    border-radius: 12px; /* 圆角 */
    overflow: hidden; /* 隐藏溢出内容 */
    box-shadow: 0 2px 8px rgba(0,0,0,0.05); /* 轻微阴影 */
}

/* 统计表格单元格样式 */
.stats-table th, .stats-table td {
    padding: 14px; /* 内边距 */
    text-align: center; /* 文本居中 */
    border-bottom: 1px solid #f0f0f0; /* 底部边框 */
}

/* 统计表格表头样式 */
.stats-table th {
    background: #f2f2f7; /* 浅灰色背景 */
    color: #1d1d1f; /* 文本颜色 */
    font-weight: 600; /* 字体粗细 */
    position: sticky; /* 粘性定位，滚动时固定在顶部 */
    top: 0; /* 固定在顶部 */
    cursor: pointer; /* 鼠标手型，表示可点击排序 */
    user-select: none; /* 禁止文本选择 */
}

/* 表头悬停效果 */
.stats-table th:hover {
    background: #e5e5ea; /* 悬停时背景变深 */
}

/* 表格最后一行去除底部边框 */
.stats-table tr:last-child td {
    border-bottom: none; /* 移除底部边框 */
}

/* 偶数行背景色，增强可读性 */
.stats-table tr:nth-child(even) {
    background: #fafafa; /* 浅灰色背景 */
}

/* 表格行悬停效果 */
.stats-table tr:hover {
    background: #f0f8ff; /* 淡蓝色背景 */
}

/* 明细表格容器样式，默认隐藏 */
.detail-table-container {
    padding: 0 24px 24px; /* 上右下左内边距 */
    max-height: 350px; /* 最大高度，超出显示滚动条 */
    overflow-y: auto; /* 垂直溢出时显示滚动条 */
    display: none; /* 默认不显示 */
}

/* 明细表格容器显示时的样式 */
.detail-table-container.show {
    display: block; /* 显示 */
}

/* 明细表格样式 */
.detail-table {
    width: 100%; /* 宽度100% */
    font-size: 13px; /* 字体大小 */
    border-collapse: separate; /* 边框分离模式 */
    border-spacing: 0; /* 边框间距为0 */
    border-radius: 10px; /* 圆角 */
    overflow: hidden; /* 隐藏溢出内容 */
    box-shadow: 0 2px 6px rgba(0,0,0,0.05); /* 轻微阴影 */
}

/* 明细表格表头样式 */
.detail-table th {
    background: #34c759; /* 绿色背景 */
    color: white; /* 白色文字 */
    padding: 12px 8px; /* 内边距 */
    position: sticky; /* 粘性定位 */
    top: 0; /* 固定在顶部 */
    cursor: pointer; /* 鼠标手型，表示可点击排序 */
    user-select: none; /* 禁止文本选择 */
    font-weight: 600; /* 字体粗细 */
}

/* 明细表格单元格样式 */
.detail-table td {
    padding: 10px 8px; /* 内边距 */
    text-align: center; /* 文本居中 */
    border-bottom: 1px solid #f5f5f7; /* 底部边框 */
}

/* 明细表格最后一行去除底部边框 */
.detail-table tr:last-child td {
    border-bottom: none; /* 移除底部边框 */
}

/* 明细表格偶数行背景色 */
.detail-table tr:nth-child(even) {
    background: #fafafa; /* 浅灰色背景 */
}

/* 可排序表头的默认样式 */
.sortable-header::after {
    content: ' ↕'; /* 显示上下箭头符号 */
    font-size: 11px; /* 箭头字体大小 */
    color: #8e8e93; /* 箭头颜色 */
}

/* 升序排序表头的样式 */
.sort-asc::after {
    content: ' ↑'; /* 显示向上箭头 */
    color: #007aff; /* 蓝色箭头 */
}

/* 降序排序表头的样式 */
.sort-desc::after {
    content: ' ↓'; /* 显示向下箭头 */
    color: #007aff; /* 蓝色箭头 */
}

/* 导出按钮面板样式 */
.export-panel {
    padding: 24px; /* 内边距 */
    border-top: 1px solid #e5e5e7; /* 顶部边框，分隔线 */
    display: flex; /* 弹性布局 */
    gap: 12px; /* 按钮间距 */
    justify-content: center; /* 水平居中 */
}

/* 导出按钮基础样式 */
.export-btn {
    padding: 12px 24px; /* 内边距 */
    font-size: 15px; /* 字体大小 */
    border: none; /* 无边框 */
    border-radius: 10px; /* 圆角 */
    cursor: pointer; /* 鼠标手型 */
    transition: all 0.2s; /* 过渡动画 */
    font-weight: 500; /* 字体粗细 */
    box-shadow: 0 2px 6px rgba(0,0,0,0.1); /* 阴影效果 */
}

/* 导出图表按钮样式 */
.export-chart {
    background: #007aff; /* 蓝色背景 */
    color: white; /* 白色文字 */
}

/* 导出Excel按钮样式 */
.export-excel {
    background: #34c759; /* 绿色背景 */
    color: white; /* 白色文字 */
}

/* 导出按钮悬停效果 */
.export-btn:hover {
    transform: translateY(-2px); /* 向上移动2px，增强交互感 */
    box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* 加深阴影 */
}

/* 加载提示样式 */
.loading {
    text-align: center; /* 文本居中 */
    padding: 60px; /* 内边距 */
    color: #8e8e93; /* 灰色文字 */
    font-size: 16px; /* 字体大小 */
}

/* 自定义下拉框容器样式 */
.custom-dropdown {
    position: relative; /* 相对定位 */
    width: 100%; /* 宽度100% */
}

/* 自定义下拉框显示区域样式 */
.dropdown-display {
    width: 100%; /* 宽度100% */
    padding: 12px 16px; /* 内边距 */
    border: 1px solid #c6c6c8; /* 边框颜色 */
    border-radius: 10px; /* 圆角 */
    font-size: 15px; /* 字体大小 */
    background: #ffffff; /* 白色背景 */
    cursor: pointer; /* 鼠标手型 */
    display: flex; /* 弹性布局 */
    flex-wrap: wrap; /* 允许换行 */
    gap: 6px; /* 标签间距 */
    min-height: 44px; /* 最小高度 */
    align-items: center; /* 垂直居中 */
}

/* 下拉显示区域悬停效果 */
.dropdown-display:hover {
    border-color: #007aff; /* 边框变为蓝色 */
}

/* 已选择的管理人标签样式 */
.selected-tag {
    background: #007aff; /* 蓝色背景 */
    color: white; /* 白色文字 */
    padding: 4px 8px; /* 内边距 */
    border-radius: 6px; /* 圆角 */
    font-size: 13px; /* 字体大小 */
    display: flex; /* 弹性布局 */
    align-items: center; /* 垂直居中 */
    gap: 4px; /* 元素间距 */
}

/* 标签移除按钮样式 */
.selected-tag .remove {
    cursor: pointer; /* 鼠标手型 */
    font-weight: bold; /* 粗体 */
    margin-left: 4px; /* 左边距 */
}

/* 下拉选项容器样式 */
.dropdown-options {
    position: absolute; /* 绝对定位 */
    top: 100%; /* 位于显示区域正下方 */
    left: 0; /* 左对齐 */
    right: 0; /* 右对齐 */
    background: white; /* 白色背景 */
    border: 1px solid #c6c6c8; /* 边框颜色 */
    border-radius: 10px; /* 圆角 */
    max-height: 200px; /* 最大高度 */
    overflow-y: auto; /* 垂直溢出显示滚动条 */
    z-index: 1000; /* 层级，确保在最上层 */
    display: none; /* 默认隐藏 */
    box-shadow: 0 4px 12px rgba(0,0,0,0.1); /* 阴影效果 */
}

/* 下拉选项容器显示时的样式 */
.dropdown-options.show {
    display: block; /* 显示 */
}

/* 下拉搜索框样式 */
.dropdown-search {
    width: 100%; /* 宽度100% */
    padding: 10px; /* 内边距 */
    border: none; /* 无边框 */
    border-bottom: 1px solid #e5e5e7; /* 底部边框 */
    font-size: 14px; /* 字体大小 */
    border-radius: 10px 10px 0 0; /* 上圆角，下直角 */
}

/* 单个下拉选项样式 */
.dropdown-item {
    padding: 10px 16px; /* 内边距 */
    cursor: pointer; /* 鼠标手型 */
    font-size: 14px; /* 字体大小 */
    transition: background 0.2s; /* 背景色过渡动画 */
}

/* 下拉选项悬停效果 */
.dropdown-item:hover {
    background: #f0f8ff; /* 淡蓝色背景 */
}

/* 已选中的下拉选项样式 */
.dropdown-item.selected {
    background: #007aff; /* 蓝色背景 */
    color: white; /* 白色文字 */
}

/* 自定义tooltip滚动条样式 */
.chartjs-tooltip {
    max-height: 300px; /* 最大高度 */
    overflow-y: auto; /* 垂直溢出显示滚动条 */
    scrollbar-width: thin; /* 滚动条宽度窄 */
}

/* Webkit浏览器自定义滚动条轨道样式 */
.chartjs-tooltip::-webkit-scrollbar {
    width: 6px; /* 滚动条宽度 */
}

/* Webkit浏览器自定义滚动条轨道样式 */
.chartjs-tooltip::-webkit-scrollbar-track {
    background: #f1f1f1; /* 灰色背景 */
    border-radius: 3px; /* 圆角 */
}

/* Webkit浏览器自定义滚动条滑块样式 */
.chartjs-tooltip::-webkit-scrollbar-thumb {
    background: #888; /* 深灰色背景 */
    border-radius: 3px; /* 圆角 */
}

/* 移动端适配样式，当屏幕宽度小于768px时生效 */
@media (max-width: 768px) {
    /* 减少页面内边距 */
    body {
        padding: 10px; /* 减小内边距 */
    }
    
    /* 控制面板改为单列布局 */
    .control-panel {
        grid-template-columns: 1fr; /* 单列布局 */
    }
    
    /* 调整图表容器高度和内边距 */
    .chart-container {
        height: 350px; /* 降低高度 */
        padding: 20px; /* 减小内边距 */
        margin: 10px; /* 减小外边距 */
    }
    
    /* 调整标题字体大小和内边距 */
    .header {
        font-size: 22px; /* 减小字体 */
        padding: 20px; /* 减小内边距 */
    }
}
